{"version":3,"sources":["webpack:///./assets/js/theme/product.js","webpack:///./assets/js/theme/product/reviews.js","webpack:///./assets/js/theme/product/video-gallery.js"],"names":["Product","context","url","window","location","href","$reviewLink","$","before","next","document","on","indexOf","history","replaceState","title","pathname","loaded","validator","collapsibleFactory","productDetails","ProductDetails","BCData","product_attributes","videoGallery","$reviewForm","classifyForm","review","Review","registerValidation","performCheck","areAll","after","productReviewHandler","trigger","PageManager","length","quotePageOnly","console","log","ready","click","css","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","firebase","initializeApp","messagesRef","database","ref","getElementById","addEventListener","submitForm","e","preventDefault","name","getInputVal","company","email","phone","message","saveMessage","querySelector","style","display","setTimeout","reset","id","value","newMessageRef","push","set","submit","replaceWith","nod","find","$reviewsContent","$collapsible","initLinkBind","injectPaginationLink","collapseReviews","$content","hasClass","CollapsibleEvents","hash","$nextLink","$prevLink","attr","add","selector","validate","errorMessage","reviewRating","reviewSubject","reviewComment","cb","val","result","forms","reviewEmail","VideoGallery","$element","$player","$videos","currentVideo","bindEvents","selectNewVideo","$target","currentTarget","data","$selectedThumb","setMainVideo","setActiveThumb","removeClass","addClass","bind","pluginKey","$videoGallery","each","index","element","$el","isInitialized"],"mappings":";;;;;;;;;;;;;;;2yBAAA;;MAWqBA,Q,wDACjB,iBAAYC,OAAZ,CAAqB,yEACjB,uBAAMA,OAAN,CADiB,EAEjB,MAAKC,GAAL,CAAWC,OAAOC,QAAP,CAAgBC,IAA3B,CACA,MAAKC,WAAL,CAAmBC,8CAACA,CAAC,sCAAF,CAAnB,CAHiB,YAIpB,C,kBAEDC,M,iBAAOC,I,CAAM,iBACT;AACAF,8CAACA,CAACG,QAAF,EAAYC,EAAZ,CAAe,oBAAf,CAAqC,UAAM,CACvC,GAAI,OAAKT,GAAL,CAASU,OAAT,CAAiB,eAAjB,IAAsC,CAAC,CAAvC,EAA4C,MAAOT,QAAOU,OAAP,CAAeC,YAAtB,GAAuC,UAAvF,CAAmG,CAC/FX,OAAOU,OAAP,CAAeC,YAAf,CAA4B,IAA5B,CAAkCJ,SAASK,KAA3C,CAAkDZ,OAAOC,QAAP,CAAgBY,QAAlE,CACH,CACJ,CAJD,EAMAP,MACH,C,mBAEDQ,M,iBAAOR,I,CAAM,iBACT,GAAIS,iBAAJ,CAEA;AACAC,4EAAkBA,GAElB,KAAKC,cAAL,CAAsB,GAAIC,yEAAJ,CAAmBd,8CAACA,CAAC,cAAF,CAAnB,CAAsC,KAAKN,OAA3C,CAAoDE,OAAOmB,MAAP,CAAcC,kBAAlE,CAAtB,CAEAC,+EAAYA,GAEZ,GAAMC,aAAcC,gFAAYA,CAAC,mBAAb,CAApB,CACA,GAAMC,QAAS,GAAIC,kEAAJ,CAAWH,WAAX,CAAf,CAEAlB,8CAACA,CAAC,MAAF,EAAUI,EAAV,CAAa,OAAb,CAAsB,sCAAtB,CAA8D,UAAM,CAChEO,UAAYS,OAAOE,kBAAP,CAA0B,OAAK5B,OAA/B,CACf,CAFD,EAIAwB,YAAYd,EAAZ,CAAe,QAAf,CAAyB,UAAM,CAC3B,GAAIO,SAAJ,CAAe,CACXA,UAAUY,YAAV,GACA,MAAOZ,WAAUa,MAAV,CAAiB,OAAjB,CACV,CAED,MAAO,MACV,CAPD,EASAtB,MACH,C,mBAEDuB,K,gBAAMvB,I,CAAM,CACR,KAAKwB,oBAAL,GAEAxB,MACH,C,mBAEDwB,oB,gCAAuB,CACnB,GAAI,KAAK/B,GAAL,CAASU,OAAT,CAAiB,eAAjB,IAAsC,CAAC,CAA3C,CAA8C,CAC1C,KAAKN,WAAL,CAAiB4B,OAAjB,CAAyB,OAAzB,CACH,CACJ,C,iBAzDgCC,8D,EAAhBnC,sE,EA8DrB,GAAGO,8CAACA,CAAC,mBAAF,EAAuB6B,MAA1B,CAAiC,CAC7BC,eACH,CAOD,QAASA,cAAT,EAAwB,CACpB;AACA;AACAC,QAAQC,GAAR,CAAY,eAAZ,EAEJhC,8CAACA,CAACG,QAAF,EAAY8B,KAAZ,CAAkB,UAAU,CACxBjC,8CAACA,CAAC,YAAF,EAAgBkC,KAAhB,CAAsB,UAAU,CAC9BlC,8CAACA,CAAC,WAAF,EAAemC,GAAf,CAAmB,SAAnB,CAA8B,OAA9B,CACD,CAFD,CAGD,CAJH,EAMA;AACA,GAAIC,QAAS,CACXC,OAAQ,yCADG,CAEXC,WAAY,oCAFD,CAGXC,YAAa,2CAHF,CAIXC,UAAW,oBAJA,CAKXC,cAAe,gCALJ,CAMXC,kBAAmB,cANR,CAAb,CAQAC,SAASC,aAAT,CAAuBR,MAAvB,EAEA;AACA,GAAIS,aAAcF,SAASG,QAAT,GAAoBC,GAApB,CAAwB,UAAxB,CAAlB,CAEA;AACA5C,SAAS6C,cAAT,CAAwB,aAAxB,EAAuCC,gBAAvC,CAAwD,QAAxD,CAAkEC,UAAlE,EAEA;AACA,QAASA,WAAT,CAAoBC,CAApB,CAAsB,CACpBA,EAAEC,cAAF,GAEA;AACA,GAAIC,MAAOC,YAAY,MAAZ,CAAX,CACA,GAAIC,SAAUD,YAAY,SAAZ,CAAd,CACA,GAAIE,OAAQF,YAAY,OAAZ,CAAZ,CACA,GAAIG,OAAQH,YAAY,OAAZ,CAAZ,CACA,GAAII,SAAUJ,YAAY,SAAZ,CAAd,CAEA;AACAK,YAAYN,IAAZ,CAAkBE,OAAlB,CAA2BC,KAA3B,CAAkCC,KAAlC,CAAyCC,OAAzC,EAEA;AACAvD,SAASyD,aAAT,CAAuB,QAAvB,EAAiCC,KAAjC,CAAuCC,OAAvC,CAAiD,OAAjD,CAEA;AACAC,WAAW,UAAU,CACnB5D,SAASyD,aAAT,CAAuB,QAAvB,EAAiCC,KAAjC,CAAuCC,OAAvC,CAAiD,MAClD,CAFD,CAEE,IAFF,EAIA;AACA3D,SAAS6C,cAAT,CAAwB,aAAxB,EAAuCgB,KAAvC,EACD,CAED;AACA,QAASV,YAAT,CAAqBW,EAArB,CAAwB,CACtB,MAAO9D,UAAS6C,cAAT,CAAwBiB,EAAxB,EAA4BC,KACpC,CAED;AACA,QAASP,YAAT,CAAqBN,IAArB,CAA2BE,OAA3B,CAAoCC,KAApC,CAA2CC,KAA3C,CAAkDC,OAAlD,CAA0D,CACxD,GAAIS,eAAgBtB,YAAYuB,IAAZ,EAApB,CACAD,cAAcE,GAAd,CAAkB,CAChBhB,KAAMA,IADU,CAEhBE,QAAQA,OAFQ,CAGhBC,MAAMA,KAHU,CAIhBC,MAAMA,KAJU,CAKhBC,QAAQA,OALQ,CAAlB,CAOD,CAGD1D,8CAACA,CAACG,QAAF,EAAY8B,KAAZ,CAAkB,UAAU,CACxBjC,8CAACA,CAAC,cAAF,EAAkBsE,MAAlB,CAAyB,UAAU,CAE/BvC,QAAQC,GAAR,CAAY,WAAZ,EACA;AAEAhC,8CAACA,CAAC,kBAAF,EAAsBuE,WAAtB,CAAkC,gCAAlC,EAEAvE,8CAACA,CAAC,cAAF,EAAkB2B,OAAlB,CAA0B,OAA1B,CACF,CARF,CASD,CAVH,CAYG,C;;;;;;;;;;;;;sKChKC,gBAAYT,WAAZ,CAAyB,8BACrB,KAAKP,SAAL,CAAiB6D,oEAAGA,CAAC,CACjBF,OAAQpD,YAAYuD,IAAZ,CAAiB,sBAAjB,CADS,CAAJ,CAAjB,CAIA,KAAKC,eAAL,CAAuB1E,8CAACA,CAAC,kBAAF,CAAvB,CACA,KAAK2E,YAAL,CAAoB3E,8CAACA,CAAC,oBAAF,CAAwB,KAAK0E,eAA7B,CAApB,CAEA,KAAKE,YAAL,GACA,KAAKC,oBAAL,GACA,KAAKC,eAAL,EACH,CAED;;;wBAIAF,Y,wBAAe,gBACX,GAAMG,UAAW/E,8CAACA,CAAC,yBAAF,CAA6B,KAAK0E,eAAlC,CAAjB,CAEA1E,8CAACA,CAAC,yBAAF,EAA6BI,EAA7B,CAAgC,OAAhC,CAAyC,UAAM,CAC3C,GAAI,CAAC2E,SAASC,QAAT,CAAkB,SAAlB,CAAL,CAAmC,CAC/B,MAAKL,YAAL,CAAkBhD,OAAlB,CAA0BsD,8EAAiBA,CAAC/C,KAA5C,CACH,CACJ,CAJD,CAKH,C,kBAED4C,e,2BAAkB,CACd;AACA,GAAIlF,OAAOC,QAAP,CAAgBqF,IAAhB,EAAwBtF,OAAOC,QAAP,CAAgBqF,IAAhB,CAAqB7E,OAArB,CAA6B,kBAA7B,IAAqD,CAAjF,CAAoF,CAChF,MACH,CAED;AACA,KAAKsE,YAAL,CAAkBhD,OAAlB,CAA0BsD,8EAAiBA,CAAC/C,KAA5C,CACH,C,CAED;;wBAGA2C,oB,gCAAuB,CACnB,GAAMM,WAAYnF,8CAACA,CAAC,yCAAF,CAA6C,KAAK0E,eAAlD,CAAlB,CACA,GAAMU,WAAYpF,8CAACA,CAAC,6CAAF,CAAiD,KAAK0E,eAAtD,CAAlB,CAEA,GAAIS,UAAUtD,MAAd,CAAsB,CAClBsD,UAAUE,IAAV,CAAe,MAAf,CAA0BF,UAAUE,IAAV,CAAe,MAAf,CAA1B,qBACH,CAED,GAAID,UAAUvD,MAAd,CAAsB,CAClBuD,UAAUC,IAAV,CAAe,MAAf,CAA0BD,UAAUC,IAAV,CAAe,MAAf,CAA1B,qBACH,CACJ,C,kBAED/D,kB,6BAAmB5B,O,CAAS,CACxB,KAAKA,OAAL,CAAeA,OAAf,CACA,KAAKiB,SAAL,CAAe2E,GAAf,CAAmB,CAAC,CAChBC,SAAU,oBADM,CAEhBC,SAAU,UAFM,CAGhBC,aAAc,KAAK/F,OAAL,CAAagG,YAHX,CAAD,CAIhB,CACCH,SAAU,mBADX,CAECC,SAAU,cAFX,CAGCC,aAAc,KAAK/F,OAAL,CAAaiG,aAH5B,CAJgB,CAQhB,CACCJ,SAAU,kBADX,CAECC,SAAU,cAFX,CAGCC,aAAc,KAAK/F,OAAL,CAAakG,aAH5B,CARgB,CAYhB,CACCL,SAAU,gBADX,CAECC,SAAU,kBAACK,EAAD,CAAKC,GAAL,CAAa,CACnB,GAAMC,QAASC,qEAAKA,CAACxC,KAAN,CAAYsC,GAAZ,CAAf,CACAD,GAAGE,MAAH,CACH,CALF,CAMCN,aAAc,KAAK/F,OAAL,CAAauG,WAN5B,CAZgB,CAAnB,EAqBA,MAAO,MAAKtF,SACf,C,kBAED6E,Q,oBAAW,CACP,MAAO,MAAK7E,SAAL,CAAeY,YAAf,EACV,C;;;;;;;;;;;;gJCrFE,GAAM2E,aAAb,YACI,sBAAYC,QAAZ,CAAsB,oCAClB,KAAKC,OAAL,CAAeD,SAAS1B,IAAT,CAAc,qBAAd,CAAf,CACA,KAAK4B,OAAL,CAAeF,SAAS1B,IAAT,CAAc,mBAAd,CAAf,CACA,KAAK6B,YAAL,CAAoB,EAApB,CACA,KAAKC,UAAL,EACH,CANL,uBAQIC,cARJ,yBAQmBrD,CARnB,CAQsB,CACdA,EAAEC,cAAF,GAEA,GAAMqD,SAAUzG,8CAACA,CAACmD,EAAEuD,aAAJ,CAAhB,CAEA,KAAKJ,YAAL,CAAoB,CAChBrC,GAAIwC,QAAQE,IAAR,CAAa,SAAb,CADY,CAEhBC,eAAgBH,OAFA,CAApB,CAKA,KAAKI,YAAL,GACA,KAAKC,cAAL,EACH,CApBL,wBAsBID,YAtBJ,wBAsBmB,CACX,KAAKT,OAAL,CAAaf,IAAb,CAAkB,KAAlB,4BAAoD,KAAKiB,YAAL,CAAkBrC,EAAtE,CACH,CAxBL,wBA0BI6C,cA1BJ,0BA0BqB,CACb,KAAKT,OAAL,CAAaU,WAAb,CAAyB,WAAzB,EACA,KAAKT,YAAL,CAAkBM,cAAlB,CAAiCI,QAAjC,CAA0C,WAA1C,CACH,CA7BL,wBA+BIT,UA/BJ,sBA+BiB,CACT,KAAKF,OAAL,CAAajG,EAAb,CAAgB,OAAhB,CAAyB,KAAKoG,cAAL,CAAoBS,IAApB,CAAyB,IAAzB,CAAzB,CACH,CAjCL,wBAoCe,QAAShG,aAAT,EAAwB,CACnC,GAAMiG,WAAY,cAAlB,CACA,GAAMC,eAAgBnH,8CAACA,UAAUkH,SAAX,KAAtB,CAEAC,cAAcC,IAAd,CAAmB,SAACC,KAAD,CAAQC,OAAR,CAAoB,CACnC,GAAMC,KAAMvH,8CAACA,CAACsH,OAAF,CAAZ,CACA,GAAME,eAAgBD,IAAIZ,IAAJ,CAASO,SAAT,WAA+BhB,aAArD,CAEA,GAAIsB,aAAJ,CAAmB,CACf,MACH,CAEDD,IAAIZ,IAAJ,CAASO,SAAT,CAAoB,GAAIhB,aAAJ,CAAiBqB,GAAjB,CAApB,CACH,CATD,CAUH,C","file":"theme-bundle.chunk.1.js","sourcesContent":["/*\n Import all product specific js\n */\nimport $ from 'jquery';\nimport PageManager from './page-manager';\nimport Review from './product/reviews';\nimport collapsibleFactory from './common/collapsible';\nimport ProductDetails from './common/product-details';\nimport videoGallery from './product/video-gallery';\nimport { classifyForm } from './common/form-utils';\n\nexport default class Product extends PageManager {\n    constructor(context) {\n        super(context);\n        this.url = window.location.href;\n        this.$reviewLink = $('[data-reveal-id=\"modal-review-form\"]');\n    }\n\n    before(next) {\n        // Listen for foundation modal close events to sanitize URL after review.\n        $(document).on('close.fndtn.reveal', () => {\n            if (this.url.indexOf('#write_review') !== -1 && typeof window.history.replaceState === 'function') {\n                window.history.replaceState(null, document.title, window.location.pathname);\n            }\n        });\n\n        next();\n    }\n\n    loaded(next) {\n        let validator;\n\n        // Init collapsible\n        collapsibleFactory();\n\n        this.productDetails = new ProductDetails($('.productView'), this.context, window.BCData.product_attributes);\n\n        videoGallery();\n\n        const $reviewForm = classifyForm('.writeReview-form');\n        const review = new Review($reviewForm);\n\n        $('body').on('click', '[data-reveal-id=\"modal-review-form\"]', () => {\n            validator = review.registerValidation(this.context);\n        });\n\n        $reviewForm.on('submit', () => {\n            if (validator) {\n                validator.performCheck();\n                return validator.areAll('valid');\n            }\n\n            return false;\n        });\n\n        next();\n    }\n\n    after(next) {\n        this.productReviewHandler();\n\n        next();\n    }\n\n    productReviewHandler() {\n        if (this.url.indexOf('#write_review') !== -1) {\n            this.$reviewLink.trigger('click');\n        }\n    }\n}\n\n\n\nif($('#modal-quote-form').length){\n    quotePageOnly();\n}\n\n\n\n\n\n\nfunction quotePageOnly(){\n    // quote page only code\n    // Dennis DNO Code \n    console.log(\"quotePageOnly\");\n\n$(document).ready(function(){\n    $(\"#specialId\").click(function(){\n      $(\".ogClosed\").css(\"display\", \"block\");\n    });\n  });\n\n// Initialize Firebase (ADD YOUR OWN DATA)\nvar config = {\n  apiKey: 'AIzaSyCiNBQ6_V7a2V7wpvigxFP3MsZgdT3fvNk',\n  authDomain: 'kw-graphics-server.firebaseapp.com',\n  databaseURL: 'https://kw-graphics-server.firebaseio.com',\n  projectId: 'kw-graphics-server',\n  storageBucket: 'kw-graphics-server.appspot.com',\n  messagingSenderId: '334742471890',\n};\nfirebase.initializeApp(config);\n\n// Reference messages collection\nvar messagesRef = firebase.database().ref('messages');\n\n// Listen for form submit\ndocument.getElementById('contactForm').addEventListener('submit', submitForm);\n\n// Submit form\nfunction submitForm(e){\n  e.preventDefault();\n\n  // Get values\n  var name = getInputVal('name');\n  var company = getInputVal('company');\n  var email = getInputVal('email');\n  var phone = getInputVal('phone');\n  var message = getInputVal('message');\n\n  // Save message\n  saveMessage(name, company, email, phone, message);\n\n  // Show alert\n  document.querySelector('.alert').style.display = 'block';\n\n  // Hide alert after 3 seconds\n  setTimeout(function(){\n    document.querySelector('.alert').style.display = 'none';\n  },3000);\n\n  // Clear form\n  document.getElementById('contactForm').reset();\n}\n\n// Function to get get form values\nfunction getInputVal(id){\n  return document.getElementById(id).value;\n}\n\n// Save message to firebase\nfunction saveMessage(name, company, email, phone, message){\n  var newMessageRef = messagesRef.push();\n  newMessageRef.set({\n    name: name,\n    company:company,\n    email:email,\n    phone:phone,\n    message:message,\n  });\n}\n\n\n$(document).ready(function(){\n    $('#contactForm').submit(function(){\n\n        console.log('Submitted');\n        // $(\"#firebase-submit\").remove();\n\n        $('#firebase-submit').replaceWith(' Submission Confirmed &#x2713;');\n\n        $('#contactForm').trigger('reset');\n     });\n  });\n\n  }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/product.js","import $ from 'jquery';\nimport nod from '../common/nod';\nimport { CollapsibleEvents } from '../common/collapsible';\nimport forms from '../common/models/forms';\n\nexport default class {\n    constructor($reviewForm) {\n        this.validator = nod({\n            submit: $reviewForm.find('input[type=\"submit\"]'),\n        });\n\n        this.$reviewsContent = $('#product-reviews');\n        this.$collapsible = $('[data-collapsible]', this.$reviewsContent);\n\n        this.initLinkBind();\n        this.injectPaginationLink();\n        this.collapseReviews();\n    }\n\n    /**\n     * On initial page load, the user clicks on \"(12 Reviews)\" link\n     * The browser jumps to the review page and should expand the reviews section\n     */\n    initLinkBind() {\n        const $content = $('#productReviews-content', this.$reviewsContent);\n\n        $('.productView-reviewLink').on('click', () => {\n            if (!$content.hasClass('is-open')) {\n                this.$collapsible.trigger(CollapsibleEvents.click);\n            }\n        });\n    }\n\n    collapseReviews() {\n        // We're in paginating state, do not collapse\n        if (window.location.hash && window.location.hash.indexOf('#product-reviews') === 0) {\n            return;\n        }\n\n        // force collapse on page load\n        this.$collapsible.trigger(CollapsibleEvents.click);\n    }\n\n    /**\n     * Inject ID into the pagination link\n     */\n    injectPaginationLink() {\n        const $nextLink = $('.pagination-item--next .pagination-link', this.$reviewsContent);\n        const $prevLink = $('.pagination-item--previous .pagination-link', this.$reviewsContent);\n\n        if ($nextLink.length) {\n            $nextLink.attr('href', `${$nextLink.attr('href')} #product-reviews`);\n        }\n\n        if ($prevLink.length) {\n            $prevLink.attr('href', `${$prevLink.attr('href')} #product-reviews`);\n        }\n    }\n\n    registerValidation(context) {\n        this.context = context;\n        this.validator.add([{\n            selector: '[name=\"revrating\"]',\n            validate: 'presence',\n            errorMessage: this.context.reviewRating,\n        }, {\n            selector: '[name=\"revtitle\"]',\n            validate: 'min-length:2',\n            errorMessage: this.context.reviewSubject,\n        }, {\n            selector: '[name=\"revtext\"]',\n            validate: 'min-length:2',\n            errorMessage: this.context.reviewComment,\n        }, {\n            selector: '[name=\"email\"]',\n            validate: (cb, val) => {\n                const result = forms.email(val);\n                cb(result);\n            },\n            errorMessage: this.context.reviewEmail,\n        }]);\n\n        return this.validator;\n    }\n\n    validate() {\n        return this.validator.performCheck();\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/product/reviews.js","import $ from 'jquery';\n\nexport class VideoGallery {\n    constructor($element) {\n        this.$player = $element.find('[data-video-player]');\n        this.$videos = $element.find('[data-video-item]');\n        this.currentVideo = {};\n        this.bindEvents();\n    }\n\n    selectNewVideo(e) {\n        e.preventDefault();\n\n        const $target = $(e.currentTarget);\n\n        this.currentVideo = {\n            id: $target.data('videoId'),\n            $selectedThumb: $target,\n        };\n\n        this.setMainVideo();\n        this.setActiveThumb();\n    }\n\n    setMainVideo() {\n        this.$player.attr('src', `//www.youtube.com/embed/${this.currentVideo.id}`);\n    }\n\n    setActiveThumb() {\n        this.$videos.removeClass('is-active');\n        this.currentVideo.$selectedThumb.addClass('is-active');\n    }\n\n    bindEvents() {\n        this.$videos.on('click', this.selectNewVideo.bind(this));\n    }\n}\n\nexport default function videoGallery() {\n    const pluginKey = 'videoGallery';\n    const $videoGallery = $(`[data-${pluginKey}]`);\n\n    $videoGallery.each((index, element) => {\n        const $el = $(element);\n        const isInitialized = $el.data(pluginKey) instanceof VideoGallery;\n\n        if (isInitialized) {\n            return;\n        }\n\n        $el.data(pluginKey, new VideoGallery($el));\n    });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./assets/js/theme/product/video-gallery.js"],"sourceRoot":""}